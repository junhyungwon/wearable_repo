(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{288:function(t,e,r){var content=r(293);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(72).default)("e8eb5854",content,!0,{sourceMap:!1})},289:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r(123);var o=r(24);function n(t){if("object"===Object(o.a)(t.data)){if(void 0!==t.data["return value"]){if(0==t.data["return value"]||1==t.data["return value"])return t.data;throw t.data["return value"]}return t.data}var e=t.data.match(/\-\d+/m);if(!e)throw"unknown";if(e.length<1)throw"unknown";throw e[0]}},290:function(t,e,r){"use strict";r(1);e.a={methods:{alert:function(t){var e=this;return new Promise((function(r,o){e.$modal.show("dialog",{text:t,buttons:[{title:e.$polyglot.t("dialog.ok"),handler:function(){r(!0)}}]})}))},confirm:function(t){var e=this;return new Promise((function(r,o){e.$modal.show("dialog",{text:t,buttons:[{title:e.$polyglot.t("dialog.cancel"),handler:function(){r(!1)}},{title:e.$polyglot.t("dialog.ok"),default:!0,handler:function(){r(!0)}}]})}))}}}},291:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var o=r(24);function n(t,e){for(var r in t)void 0!==e[r]&&(Array.isArray(e[r])?t[r]=e[r].map((function(t){return t})):("object"===Object(o.a)(e[r])&&e[r]&&n(t[r],e[r]),t[r]=isNaN(e[r])?e[r]:parseInt(e[r],10)))}},292:function(t,e,r){"use strict";var o=r(288);r.n(o).a},293:function(t,e,r){(e=r(71)(!1)).push([t.i,"label[data-v-9e138a9e]{display:-webkit-box;display:flex;width:100%;-webkit-box-align:center;align-items:center}label input[type=checkbox][data-v-9e138a9e]{display:none}label img[data-v-9e138a9e]{display:block;flex-basis:24px;flex-shrink:0;-webkit-box-flex:0;flex-grow:0;width:24px;height:24px}label:hover img.unchecked[data-v-9e138a9e],label img.hover[data-v-9e138a9e]{display:none}label:hover img.hover[data-v-9e138a9e]{display:block}label span[data-v-9e138a9e]{-webkit-box-flex:1;flex-grow:1;padding-left:14px;font-size:14px;font-weight:400;letter-spacing:.26px;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}",""]),t.exports=e},294:function(t,e,r){"use strict";var o={props:["checked"],computed:{state:{get:function(){return!0===this.checked||!1!==this.checked&&(isNaN(this.checked)?!!this.checked:!!parseInt(this.checked,10))},set:function(t){this.$emit("updated",t)}}}},n=(r(292),r(30)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.state,expression:"state"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.state)?t._i(t.state,null)>-1:t.state},on:{change:function(e){var r=t.state,o=e.target,n=!!o.checked;if(Array.isArray(r)){var l=t._i(r,null);o.checked?l<0&&(t.state=r.concat([null])):l>-1&&(t.state=r.slice(0,l).concat(r.slice(l+1)))}else t.state=n}}}),t._v(" "),t.state?r("img",{staticClass:"checked",attrs:{src:"/images/components/input-checkbox/filled.svg",alt:"Checked"}}):[r("img",{staticClass:"unchecked",attrs:{src:"/images/components/input-checkbox/outline.svg",alt:"Unchecked"}}),t._v(" "),r("img",{staticClass:"hover",attrs:{src:"/images/components/input-checkbox/hover.svg",alt:"Active"}})],t._v(" "),t._t("default")],2)}),[],!1,null,"9e138a9e",null);e.a=component.exports},299:function(t,e,r){var content=r(310);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(72).default)("f8307e4c",content,!0,{sourceMap:!1})},309:function(t,e,r){"use strict";var o=r(299);r.n(o).a},310:function(t,e,r){(e=r(71)(!1)).push([t.i,"h2.checkbox-flex[data-v-3fdd5ed8]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}h2.checkbox-flex>label[data-v-3fdd5ed8]{margin:0 10px 0 0;flex-basis:24px}",""]),t.exports=e},319:function(t,e,r){"use strict";r.r(e);r(57);var o,n,l,c=r(15),d=(r(1),r(294)),f=r(289),m=r(291),dialog=r(290),h=/^([0-9]|[a-z]|[A-Z]|_|\-|!|@|#|\$|%|\^){1,31}$/,_={components:{"input-checkbox":d.a},mixins:[dialog.a],data:function(){return{form:{model:null,current_pw:null,new_pw:null,confirm_pw:null,live_stream_account:{enable:null,enctype:null,id:null,pw:null},onvif:{id:null,pw:null}},disableSubmit:!1,updatePassword:!1}},watch:{"form.model":function(t){"NEXXONE"===this.form.model?window.document.title="NEXX ONE":window.document.title=t}},methods:{wait:function(){return new Promise((function(t){return setTimeout(t,1e3)}))},fetchData:(l=Object(c.a)(regeneratorRuntime.mark((function t(){var e,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$apiRouter.resolve({name:"cgi/config",query:{action:"search",param:"user_config"}}).href,t.prev=1,t.next=4,this.$axios.get(e);case 4:return r=t.sent,data=Object(f.a)(r),Object(m.a)(this.form,data),t.next=9,this.wait();case 9:this.disableSubmit=!1,t.next=24;break;case 12:if(t.prev=12,t.t0=t.catch(1),!this.$polyglot.has("error_messages."+t.t0)){t.next=20;break}return t.next=17,this.alert(this.$polyglot.t("error_messages."+t.t0));case 17:this.$modal.hide("dialog"),t.next=23;break;case 20:return t.next=22,this.alert(t.t0);case 22:this.$modal.hide("dialog");case 23:console.error(t.t0);case 24:case"end":return t.stop()}}),t,this,[[1,12]])}))),function(){return l.apply(this,arguments)}),storeData:(n=Object(c.a)(regeneratorRuntime.mark((function t(){var e,form,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.validation();case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return this.disableSubmit=!0,e=this.$apiRouter.resolve({name:"cgi/user"}).href,(form=new URLSearchParams).append("chk_change_web_passwd",this.updatePassword?"1":"0"),form.append("txt_cur_pw",this.form.current_pw),form.append("txt_new_pw1",this.form.new_pw),form.append("txt_new_pw2",this.form.confirm_pw),form.append("txt_onvif_id",this.form.onvif.id),form.append("txt_onvif_pw",this.form.onvif.pw),"FITT360 Security"==this.form.model&&form.append("live_stream_account_enable",this.form.live_stream_account.enable?"1":"0"),form.append("cbo_live_stream_account_enc_type",this.form.live_stream_account.enctype),form.append("txt_live_stream_account_id",this.form.live_stream_account.id),form.append("txt_live_stream_account_pw",this.form.live_stream_account.pw),t.prev=17,t.next=20,this.$axios.post(e,form);case 20:return r=t.sent,Object(f.a)(r),t.next=24,this.alert(this.$polyglot.t("messages.saved"));case 24:this.$modal.hide("dialog"),this.$router.push("/"),t.next=40;break;case 28:if(t.prev=28,t.t0=t.catch(17),!this.$polyglot.has("error_messages."+t.t0)){t.next=36;break}return t.next=33,this.alert(this.$polyglot.t("error_messages."+t.t0));case 33:this.$modal.hide("dialog"),t.next=39;break;case 36:return t.next=38,this.alert(t.t0);case 38:this.$modal.hide("dialog");case 39:console.error(t.t0);case 40:return t.prev=40,this.disableSubmit=!1,t.finish(40);case 43:case"end":return t.stop()}}),t,this,[[17,28,40,43]])}))),function(){return n.apply(this,arguments)}),validation:(o=Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.updatePassword){t.next=13;break}if(this.form.current_pw){t.next=7;break}return t.next=4,this.alert(this.$polyglot.t("user.password.messages.current_pw.null"));case 4:return this.$modal.hide("dialog"),this.$refs.current_pw.focus(),t.abrupt("return",!1);case 7:if(h.test(this.form.current_pw)){t.next=13;break}return t.next=10,this.alert(this.$polyglot.t("user.password.messages.current_pw.format"));case 10:return this.$modal.hide("dialog"),this.$refs.current_pw.focus(),t.abrupt("return",!1);case 13:if(!this.updatePassword){t.next=32;break}if(this.form.new_pw){t.next=20;break}return t.next=17,this.alert(this.$polyglot.t("user.password.messages.new_pw.null"));case 17:return this.$modal.hide("dialog"),this.$refs.new_pw.focus(),t.abrupt("return",!1);case 20:if("admin"!==this.form.new_pw){t.next=26;break}return t.next=23,this.alert(this.$polyglot.t("user.password.messages.new_pw.admin"));case 23:return this.$modal.hide("dialog"),this.$refs.new_pw.focus(),t.abrupt("return",!1);case 26:if(h.test(this.form.new_pw)){t.next=32;break}return t.next=29,this.alert(this.$polyglot.t("user.password.messages.new_pw.format"));case 29:return this.$modal.hide("dialog"),this.$refs.new_pw.focus(),t.abrupt("return",!1);case 32:if(!this.updatePassword){t.next=45;break}if(this.form.confirm_pw===this.form.new_pw){t.next=39;break}return t.next=36,this.alert(this.$polyglot.t("user.password.messages.confirm_pw.confirmation"));case 36:return this.$modal.hide("dialog"),this.$refs.confirm_pw.focus(),t.abrupt("return",!1);case 39:if(h.test(this.form.confirm_pw)){t.next=45;break}return t.next=42,this.alert(this.$polyglot.t("user.password.messages.confirm_pw.format"));case 42:return this.$modal.hide("dialog"),this.$refs.confirm_pw.focus(),t.abrupt("return",!1);case 45:if(!("NEXX360"==this.form.model||"NEXX360B"==this.form.model||"NEXX360W"==this.form.model||"NEXXONE"==this.form.model||"FITT360 Security"==this.form.model&&this.form.live_stream_account.enable)){t.next=70;break}if(this.form.live_stream_account.id){t.next=52;break}return t.next=49,this.alert(this.$polyglot.t("network.live_stream_account.messages.id.null"));case 49:return this.$modal.hide("dialog"),this.$refs.live_stream_account_id.focus(),t.abrupt("return",!1);case 52:if(h.test(this.form.live_stream_account.id)){t.next=58;break}return t.next=55,this.alert(this.$polyglot.t("network.live_stream_account.messages.id.format"));case 55:return this.$modal.hide("dialog"),this.$refs.live_stream_account_id.focus(),t.abrupt("return",!1);case 58:if(this.form.live_stream_account.pw){t.next=64;break}return t.next=61,this.alert(this.$polyglot.t("network.live_stream_account.messages.pw.null"));case 61:return this.$modal.hide("dialog"),this.$refs.live_stream_account_pw.focus(),t.abrupt("return",!1);case 64:if(h.test(this.form.live_stream_account.pw)){t.next=70;break}return t.next=67,this.alert(this.$polyglot.t("network.live_stream_account.messages.pw.format"));case 67:return this.$modal.hide("dialog"),this.$refs.live_stream_account_pw.focus(),t.abrupt("return",!1);case 70:return t.abrupt("return",!0);case 71:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},created:function(){},mounted:function(){this.fetchData(),this.$refs.current_pw.focus()}},v=(r(309),r(30)),component=Object(v.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-page"},[r("header",{staticClass:"page-header"},[r("h1",[t._v(t._s(t.$polyglot.t("user.page_title")))])]),t._v(" "),r("main",{staticClass:"page-body"},[r("section",[r("h2",{staticClass:"checkbox-flex"},[r("input-checkbox",{attrs:{checked:t.updatePassword},on:{updated:function(e){t.updatePassword=e}}}),t._v(" "),r("span",[t._v("\n\t\t\t\t\t"+t._s(t.$polyglot.t("user.password.name"))+"\n\t\t\t\t")])],1),t._v(" "),r("ol",{staticClass:"controls"},[r("li",[r("label",{attrs:{for:"currentPswd"}},[t._v(t._s(t.$polyglot.t("user.password.fields.current_pw")))]),t._v(" "),r("input",{ref:"current_pw",staticClass:"form-control",attrs:{type:"password",id:"currentPswd",maxlength:"31",placeholder:"",disabled:!t.updatePassword},domProps:{value:t.form.current_pw},on:{input:function(e){t.form.current_pw=e.target.value}}})]),t._v(" "),r("li",[r("label",{attrs:{for:"newPswd"}},[t._v(t._s(t.$polyglot.t("user.password.fields.new_pw")))]),t._v(" "),r("input",{ref:"new_pw",staticClass:"form-control",attrs:{type:"password",id:"newPswd",maxlength:"31",placeholder:"",disabled:!t.updatePassword},domProps:{value:t.form.new_pw},on:{input:function(e){t.form.new_pw=e.target.value}}})]),t._v(" "),r("li",[r("label",{attrs:{for:"confirmPswd"}},[t._v(t._s(t.$polyglot.t("user.password.fields.confirm_pw")))]),t._v(" "),r("input",{ref:"confirm_pw",staticClass:"form-control",attrs:{type:"password",id:"confirmPswd",maxlength:"31",placeholder:"",disabled:!t.updatePassword},domProps:{value:t.form.confirm_pw},on:{input:function(e){t.form.confirm_pw=e.target.value}}})])])]),t._v(" "),r("section",[r("h2",[t._v(t._s(t.$polyglot.t("user.onvif.name")))]),t._v(" "),r("ol",{staticClass:"controls"},[r("li",[r("label",{attrs:{for:"onvifId"}},[t._v(t._s(t.$polyglot.t("user.onvif.fields.id")))]),t._v(" "),r("input",{ref:"onvif_id",staticClass:"form-control",attrs:{type:"text",id:"onvifId",disabled:"",maxlength:"31",placeholder:""},domProps:{value:t.form.onvif.id},on:{input:function(e){t.form.onvif.id=e.target.value}}})]),t._v(" "),r("li",[r("label",{attrs:{for:"onvifPw"}},[t._v(t._s(t.$polyglot.t("user.onvif.fields.pw")))]),t._v(" "),r("input",{ref:"onvif_pw",staticClass:"form-control",attrs:{type:"password",id:"onvifPw",maxlength:"16",placeholder:""},domProps:{value:t.form.onvif.pw},on:{input:function(e){t.form.onvif.pw=e.target.value}}})])])]),t._v(" "),r("section",[r("h2",[t._v(t._s(t.$polyglot.t("user.live_stream_account.name")))]),t._v(" "),r("ol",{staticClass:"controls"},["FITT360 Security"==t.form.model?r("li",[r("input-checkbox",{attrs:{checked:t.form.live_stream_account.enable},on:{updated:function(e){t.form.live_stream_account.enable=e}}},[r("span",[t._v(t._s(t.$polyglot.t("user.live_stream_account.fields.enable")))])])],1):t._e(),t._v(" "),r("li",[r("label",{attrs:{for:"liveStreamAccountEnctype"}},[t._v(t._s(t.$polyglot.t("user.live_stream_account.fields.enctype")))]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.live_stream_account.enctype,expression:"form.live_stream_account.enctype"}],staticClass:"custom-select small",attrs:{id:"liveStreamAccountEnctype",disabled:!t.form.live_stream_account.enable},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form.live_stream_account,"enctype",e.target.multiple?r:r[0])}}},[r("option",{domProps:{value:0}},[t._v(t._s(t.$polyglot.t("values.none")))]),t._v(" "),r("option",{domProps:{value:1}},[t._v(t._s(t.$polyglot.t("values.aes")))])])]),t._v(" "),r("li",[r("label",{attrs:{for:"liveStreamAccountId"}},[t._v(t._s(t.$polyglot.t("user.live_stream_account.fields.id")))]),t._v(" "),r("input",{ref:"live_stream_account_id",staticClass:"form-control",attrs:{type:"text",id:"liveStreamAccountId",disabled:!t.form.live_stream_account.enable,maxlength:"16",placeholder:""},domProps:{value:t.form.live_stream_account.id},on:{input:function(e){t.form.live_stream_account.id=e.target.value}}})]),t._v(" "),r("li",[r("label",{attrs:{for:"liveStreamAccountPw"}},[t._v(t._s(t.$polyglot.t("user.live_stream_account.fields.pw")))]),t._v(" "),r("input",{ref:"live_stream_account_pw",staticClass:"form-control",attrs:{type:"password",id:"liveStreamAccountPw",disabled:!t.form.live_stream_account.enable,maxlength:"16",placeholder:""},domProps:{value:t.form.live_stream_account.pw},on:{input:function(e){t.form.live_stream_account.pw=e.target.value}}})])])])]),t._v(" "),r("footer",{staticClass:"page-footer"},[r("div",{staticClass:"cancel-submit-buttons"},[r("nuxt-link",{staticClass:"cancel-btn",attrs:{to:"/"}},[t._v(t._s(t.$polyglot.t("buttons.cancel")))]),t._v(" "),r("button",{staticClass:"submit-btn",attrs:{type:"submit",disabled:t.disableSubmit},on:{click:function(e){return e.preventDefault(),t.storeData(e)}}},[t._v("\n\t\t\t\t"+t._s(t.$polyglot.t("buttons.submit"))+"\n\t\t\t")])],1)])])}),[],!1,null,"3fdd5ed8",null);e.default=component.exports}}]);